<% include ./partials/header %>

<div class="ui main text container segments" id="addPage">
    <div data-bind="foreach: gameFields" class="ui segment">
        <div class="ui huge header" data-bind="text: 'Game #' + count()"></div>
        <div class="ui form">
            <div class="ui search field">
                <label>Title</label>
                <input type="text" data-bind="value: title, event: $root.getSearchTitle()" class="prompt" name="title" id="title" placeholder="Title">
                <div class="results"></div>
            </div>
            <div class="field">
                <label>Console</label>
                <input type="text" data-bind="value: console" name="console" id="console" class="awesomplete" list="mylist" placeholder="Console"
                    required>
            </div>
            <div class="field">
                <label>Condition</label>
                <div class="ui selection dropdown" data-bind="event: $root.getDropdown()">
                    <input type="hidden" data-bind="value: condition" id="condition" name="condition">
                    <i class="dropdown icon"></i>
                    <div class="default text">Condition</div>
                    <div class="menu">
                        <div class="item" data-value="New">New</div>
                        <div class="item" data-value="Used">Used</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="ui segment">
        <div data-bind="click: $root.addNewField" class="ui big button">
            Add New Game
        </div>
        <div data-bind="click: $root.addGame" class="ui big blue button right floated">
            Save
        </div>
    </div>
</div>
<script src="/scripts/item_tracker/item.create.js"></script>

<script>
    $('.ui.search')
  .search({
    apiSettings: {
      url: 'http://localhost:3000/items/api/search/products/{query}'
    },
    fields: {
      results : '[]',
      title   : 'name',
      url     : 'html_url'
    },
    minCharacters : 3
  })
;
// $('.ui.search')
//   .search({
//     source: content
//   })
//   var content = [
//   { title: 'Andorra' },
//   { title: 'United Arab Emirates' },
//   { title: 'Afghanistan' },
//   { title: 'Antigua' },
//   { title: 'Anguilla' },
//   { title: 'Albania' },
//   { title: 'Armenia' },
//   { title: 'Netherlands Antilles' },
//   { title: 'Angola' },
//   { title: 'Argentina' },
//   { title: 'American Samoa' },
//   { title: 'Austria' },
//   { title: 'Australia' },
//   { title: 'Aruba' },
//   { title: 'Aland Islands' },
//   { title: 'Azerbaijan' },
//   { title: 'Bosnia' },
//   { title: 'Barbados' },
//   { title: 'Bangladesh' },
//   { title: 'Belgium' },
//   { title: 'Burkina Faso' },
//   { title: 'Bulgaria' },
//   { title: 'Bahrain' },
//   { title: 'Burundi' }
//   // etc
// ];

</script>
<% include ./partials/footer %>